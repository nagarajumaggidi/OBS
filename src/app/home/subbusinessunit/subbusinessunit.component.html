
<div class="app-title">
  <div>
    <h1><i class="fa fa-th-list"></i> Sub Business Unit</h1>
  </div>
    <ul class="app-breadcrumb breadcrumb">
        <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
       
        <li class="breadcrumb-item">Masters</li>
        <li class="breadcrumb-item active"><a routerLink="/dashboard">Dashboard</a></li>
      </ul>
</div>
    <div class="row ">
    <div class="col-md-11" style="margin-bottom: 25px;">
      <form class="form-inline ">
        <div class="input-group ">
          <input type="text" class="form-control" name="key" [(ngModel)]="key" size="50" placeholder="Search">
          <div class="input-group-btn">
            <h1></h1>
          </div>
        </div>&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="input-group ">
        <button type="submit" (click)="value=!value" class="btn btn-primary">Add</button>
      </div>
      </form>
    </div> 
    <div class="col-md-1 " style="padding-left:40px;">
    
    </div>
    </div>
            <div class="row top table-responsive"style="margin-right: 0px; margin-left: 0px;">
              <table class="table table-condensed tile" style="width:70%">
                <thead>

                    <!-- <tr>  
                        <th>Id</th>                 
                        <th>BusinessUnit Name</th>
                      
                        <th>Edit</th>
                        <th>Delete</th>
                      </tr> 
                      </thead>
                      <tr *ngFor="let bunit of subBusinessUnitlist">
                          <td>{{bunit.businessUnitId}}</td>
                          <td>{{bunit.name}} </td>
                         -->
                          

           <tr>
             <th>SBU Id</th>
              <th>SBU Name</th>
          <th>BusinessUnit Name</th>
          <th>CostCenterId</th>
      
         
          <th>Edit</th>

        </tr>
        </thead> 
        <tbody>
          <tr *ngFor="let bulist of subBusinessUnitlist | filter:key | paginate: { itemsPerPage: pageSize, currentPage: p }; let i=index ">
          
              <td>
                  <div *ngIf="!bulist.isEditable">
                  {{bulist.id}}
                </div>
                <input type="text" class="form-control" [(ngModel)]="bulist.id" *ngIf="bulist.isEditable"/>
              </td>
              <td>
                  <div *ngIf="!bulist.isEditable">
                  {{bulist.name}}
                </div>
                <input type="text" class="form-control" [(ngModel)]="bulist.name" *ngIf="bulist.isEditable"/>
              </td>

            <td>
              <div *ngIf="!bulist.isEditable">
                  {{bulist.businessUnitName}}
            
          </div>
          <select id="businessunit" name="costcenter" [(ngModel)]="bulist.id" *ngIf="bulist.isEditable" class='form-control' >
              <option value="undefined" selected disabled >--Select--</option>
              <option value="{{bulist.businessUnitId}}" *ngFor="let bUlist of businessUnitList">{{bulist.businessUnitId}}</option>
            </select>
        </td>
        <td>
            <div *ngIf="!bulist.isEditable">
                {{bulist.costCenterId}}
          </div>
          <select id="costcenter" name="costcenter" [(ngModel)]="bulist.costCenterId" *ngIf="bulist.isEditable" class='form-control' >
              <option value="undefined" selected disabled >--Select--</option>
              <option value="{{CostCenter.costCenterCode}}" *ngFor="let CostCenter of coscentergetlist">{{CostCenter.costCenterCode}}</option>
            </select>
        </td> 
    
        <td>
          
          <button  class="btn" style="background: #009ee2;border:#009ee2;color:white;" *ngIf="bulist.isEditable" 
          (click)="bulist.isEditable=!bulist.isEditable; saveUpdatedValues(bulist);">Update</button>
          <img src="assets/pe.png" width = "35" (click)='bulist.isEditable =!bulist.isEditable' *ngIf="!bulist.isEditable">
          </td>
        <!-- <td><img src="assets/delete.png" width = "20" (click)="deleterow(i)"/></td> -->
        </tr>
         <tr>
            <td><input id="subbusinessunit" name="subbusinessunit" [(ngModel)]="subbusinessunit" *ngIf="value" type="text" class="form-control" placeholder="Enter sub-BusinessUnit" required ></td>
          <td><select id="businessunit" name="costcenter" [(ngModel)]="businessUnitId" *ngIf="value" class='form-control' >
              <option value="undefined" selected disabled >--Select--</option>
              <option value="{{bUlist.id}}" *ngFor="let bUlist of businessUnitList">{{bUlist.businessUnitName}}</option>
            </select></td>

          <td><select id="costcenter" name="costcenter" [(ngModel)]="costCenterId" *ngIf="value" class='form-control' >
            <option value="undefined" selected disabled >--Select--</option>
            <option value="{{CostCenter.costCenterCode}}" *ngFor="let CostCenter of coscentergetlist">{{CostCenter.costCenterCode}}</option>
          </select></td> 

    
          <td><button type="submit" class="btn btn-primary " *ngIf="value" (click)=setSubbusinessunit()>Save</button>
            <button type="submit" class="btn btn-default " *ngIf="value" (click)=cancelbulist()>Cancel</button></td>
            
           <td></td>
         </tr> 
        
          </tbody>
        </table>
        

      
     
  </div>
      
        <pagination-controls class="pull-right" (pageChange)="p = $event"></pagination-controls>
        <div class="row">
            <label class="ml-3">Items per Page: </label>&nbsp;&nbsp;&nbsp;
            
                
               <select id="PerPage" class="pull-right" [(ngModel)]="pageSize">
                  <option [ngValue]="5">5</option>
                  <option [ngValue]="10">10</option>
                  <option [ngValue]="15">15</option>
                  <option [ngValue]="20">20</option>
              </select>
             
               </div>
               <!-- private pageSize: number = 5; -->
   
  

